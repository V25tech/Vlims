<form #attachmentform="ngForm">
  <section class="m-5 bg-white vm-shadow-sm-grey rounded-lg vm-d-none"
           id="TargetDivAdd2"
           style="display: block;" [@slideInOut]>
    <header class="d-flex p-5 vm-separator position-relative vm-border-bottom-for-white-panel">
      <h4 class="vm-primary-heading vm-color-teritary font-weight-bold">
        {{ title }} Attachment
      </h4>
    </header>
    <div class="vm-content p-5">
      <div class="form-group row mb-4"
        [ngClass]="{
          'vm-is-invalid': uploadfile1.invalid && uploadfile1.touched
        }">
        <label for="exampleInputFile"
          class="col-sm-12 col-md-6 col-lg-6 labelBold"><span class="vm-star-required">File Name</span></label>
        <div class="vm-column-gutter">
          <div class="input-group vm-column-no-gutter vm-addon"
            data-original-title=""
            title="">
            <input class="form-control vm-image-preview-filename"
              type="text"
              autocomplete="off"
              name="form-control"
              [(ngModel)]="note.FileName"
              required
              #uploadfile1="ngModel" />
            <div class="input-group-append">
              <label class="input-group-text text-white table-head-bg-color"
                for="attachmentfile">Browse</label>
              <input [accept]="allowfiletypes"
                type="file"
                name="attachmentfile"
                id="attachmentfile"
                (change)="uploadfile($event.target.files)" />
            </div>
          </div>
          <div class="vm-validation-wrap"
            *ngIf="uploadfile1.invalid && uploadfile1.touched">
            <span class="vm-validation vm-top-arrow mt-2 p-2">
              Please provide the Document Type.
            </span>
          </div>
        </div>
      </div>
      <div class="form-group row mb-4"
        [ngClass]="{
          'vm-is-invalid': ddrdocumenttype.invalid && ddrdocumenttype.touched
        }">
        <label class="col-sm-12 col-md-6 col-lg-6 labelBold"><span class="vm-star-required">Document Type</span></label>
        <div class="vm-column-gutter">
          <select class="form-control"
            required
            name="doctype"
            [(ngModel)]="attachment.NotesType"
            #ddrdocumenttype="ngModel">
            <option value="undefined">Select</option>
            <option *ngFor="let item of doctypes" value="{{ item.value }}">
              {{ item.text }}
            </option>
          </select>
          <div class="vm-validation-wrap"
            *ngIf="ddrdocumenttype.invalid && ddrdocumenttype.touched">
            <span class="vm-validation vm-top-arrow mt-2 p-2">
              Please provide the Document Type.
            </span>
          </div>
        </div>
      </div>
      <div class="form-group row mb-4"
        [ngClass]="{
          'vm-is-invalid': txtdescription.invalid && txtdescription.touched
           }">
        <label class="col-sm-12 col-md-6 col-lg-6 labelBold"><span class="vm-star-required">Description</span></label>
        <div class="vm-column-gutter">
          <textarea name="description"
            class="form-control"
            required
            [(ngModel)]="attachment.Description"
            #txtdescription="ngModel"
            maxlength="250"></textarea>
          <div class="vm-validation-wrap"
            *ngIf="txtdescription.invalid && txtdescription.touched">
            <span class="vm-validation vm-top-arrow mt-2 p-2">
              Please provide the Description.
            </span>
          </div>
        </div>
      </div>
    </div>
    <div class="footer text-center vm-border-top-for-white-panel py-5 vm-checklistAction">
      <a class="mt-3 mr-3 dealwall-add-attachment-cancel"
        (click)="cancelattachment()">Cancel</a>
      <button type=""
        class="btn btn-primary mr-3 dealwall-add-attachment-cancel"
        (click)="addAttachment()">
        Add
      </button>
      <button type=""
        class="btn btn-primary mr-3 dealwall-add-attachment-cancel"
        [disabled]="!enable">
        Add Another
      </button>
    </div>
  </section>
</form>
